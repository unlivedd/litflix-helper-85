
# BOOKS - Книжная рекомендательная система

## Описание проекта

BOOKS - это веб-приложение для любителей книг и фильмов, которое позволяет искать книги, добавлять их в избранное и получать рекомендации фильмов на основе выбранных книг. Система также позволяет пользователям регистрироваться, входить в систему и сохранять свои предпочтения между сеансами.

## Технический стек

- **React** - библиотека для создания пользовательского интерфейса
- **TypeScript** - типизированный JavaScript для лучшего качества кода
- **Tailwind CSS** - утилитный CSS-фреймворк для стилизации
- **react-router-dom** - для маршрутизации в приложении
- **Lucide React** - библиотека иконок
- **TanStack Query** - для управления состоянием и запросами к API
- **Sonner** - для уведомлений (тостов)

## Структура проекта

### Основные папки и файлы

- `/src` - исходный код приложения
  - `/components` - React-компоненты
  - `/lib` - утилиты и сервисы
  - `/pages` - компоненты страниц
  - `/hooks` - пользовательские хуки React
  - `App.tsx` - корневой компонент приложения
  - `main.tsx` - точка входа приложения

### Ключевые компоненты

- **Header** - шапка сайта с навигацией и меню пользователя
- **BookCard** - карточка книги с информацией и возможностью добавления в избранное
- **SearchBar** - компонент поиска
- **UserMenu** - меню пользователя (вход/выход и др.)
- **TopRatedBooks** - список топовых книг

### Страницы

- **Index** - главная страница с обзором книг и навигацией
- **Books** - страница для поиска и выбора книг
- **BookDetail** - детальная страница книги
- **Favorites** - страница с избранными книгами и фильмами
- **Login/Register** - страницы авторизации
- **Movies** - страница с фильмами
- **Recommendations** - страница с рекомендациями фильмов на основе выбранных книг
- **NotFound** - страница 404

## Основные функции

### 1. Система пользователей

#### Регистрация и вход
- Пользователи могут создавать аккаунты с именем, email и паролем
- Вход в систему с сохранением данных в localStorage и эмуляцией MongoDB
- Выход из системы

Ключевые файлы:
- `src/lib/authService.ts` - сервис для авторизации
- `src/lib/mongoService.ts` - имитация MongoDB для хранения данных
- `src/pages/Login.tsx` и `src/pages/Register.tsx` - страницы авторизации

### 2. Управление избранным

- Пользователи могут добавлять книги и фильмы в избранное
- Управление избранным через кнопку "сердечка" на карточках
- Страница избранного со всеми добавленными элементами

Ключевые файлы:
- `src/lib/favoritesService.ts` - сервис для работы с избранным
- `src/components/BookCard.tsx` - карточка с кнопкой избранного
- `src/pages/Favorites.tsx` - страница избранного

### 3. Поиск и фильтрация книг

- Поиск книг по названию, автору и жанру
- Отображение результатов в реальном времени
- Возможность выбора книг для рекомендаций

Ключевые файлы:
- `src/components/SearchBar.tsx` - компонент поиска
- `src/lib/bookService.ts` - сервис для работы с книгами
- `src/pages/Books.tsx` - страница с поиском книг

### 4. Система рекомендаций

- Выбор книг для получения рекомендаций фильмов
- Алгоритм подбора фильмов на основе выбранных книг
- Страница с персонализированными рекомендациями

Ключевые файлы:
- `src/pages/Recommendations.tsx` - страница с рекомендациями

### 5. База данных (имитация MongoDB)

- Локальное хранение данных с использованием localStorage
- Эмуляция MongoDB API для работы с данными
- Коллекции для пользователей, книг и фильмов

Ключевые файлы:
- `src/lib/mongoService.ts` - имитация MongoDB

## Как работает приложение

1. **Инициализация**: При загрузке приложения инициализируется локальная база данных через `mongoService.ts`.

2. **Авторизация**: 
   - Пользователь может зарегистрироваться или войти
   - Данные пользователя сохраняются в localStorage и в "базе данных"
   - Компонент `UserMenu` отображает состояние аутентификации

3. **Работа с книгами**:
   - На главной странице отображаются популярные книги
   - На странице Books можно искать и выбирать книги
   - Книги можно добавлять в избранное (через toggleFavorite)

4. **Избранное**:
   - Сервис `favoritesService.ts` управляет избранными элементами
   - Функция `isInFavorites` проверяет статус элемента
   - Функция `toggleFavorite` добавляет/удаляет элемент из избранного

5. **Рекомендации**:
   - Пользователь выбирает книги, которые ему нравятся
   - Система анализирует выбор и предлагает фильмы
   - Рекомендации отображаются на странице Recommendations

6. **Поиск**:
   - Компонент `SearchBar` обрабатывает поисковые запросы
   - Сервис `bookService.ts` фильтрует книги по запросу
   - Результаты отображаются в реальном времени

## Интеграция с локальной базой данных

Приложение использует `mongoService.ts` для эмуляции MongoDB. Этот сервис:

1. Создает коллекции в localStorage
2. Реализует основные методы MongoDB:
   - find()
   - findOne()
   - insertOne()
   - updateOne()
   - deleteOne()

Данные сохраняются в localStorage с префиксом `mongodb_`, что позволяет сохранять состояние между сессиями.

## Навигация и маршрутизация

Приложение использует react-router-dom для навигации:

```jsx
<BrowserRouter>
  <Routes>
    <Route path="/" element={<Index />} />
    <Route path="/books" element={<Books />} />
    <Route path="/movies" element={<Movies />} />
    <Route path="/book/:id" element={<BookDetail />} />
    <Route path="/recommendations" element={<Recommendations />} />
    <Route path="/favorites" element={<Favorites />} />
    <Route path="/login" element={<Login />} />
    <Route path="/register" element={<Register />} />
    <Route path="*" element={<NotFound />} />
  </Routes>
</BrowserRouter>
```

## Улучшение и дальнейшая разработка

1. **Серверная часть**: Заменить имитацию MongoDB на настоящую базу данных
2. **Аутентификация**: Добавить JWT для безопасной авторизации
3. **API для книг и фильмов**: Интеграция с внешними API (например, Google Books)
4. **Улучшенный алгоритм рекомендаций**: Использование ML/AI для более точных рекомендаций
5. **Социальные функции**: Добавление возможности делиться своими списками и рекомендациями

## Заключение

Проект BOOKS представляет собой полнофункциональное веб-приложение для любителей книг и фильмов. Он демонстрирует использование современных веб-технологий для создания интерактивного пользовательского интерфейса и работу с локальным хранилищем данных.
